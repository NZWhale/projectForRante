!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"loginHandler",(function(){return k}));var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},u=document.getElementById("root"),i=function(t){return t[Math.floor(Math.random()*t.length)]};function a(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,fetch(t)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}var c=function(t,e,n,r){var o;(void 0===(o={login:t,password:e})&&(o={}),fetch(n,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(t){return t}),(function(t){console.log(t,"data wasn't wrote")}))).then((function(t){if(200===t.status)return r.setLoginStatus(!0),l(u,r),t}))},l=function(t,e){t.innerHTML="";var n=d("input","exitButton");n.setAttribute("type","button"),n.innerText="exit",n.addEventListener("click",(function(){e.setLoginStatus(!1)}))},s=function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},d=function(t,e){var n=document.createElement(t);return n.setAttribute("id",e),n},p=function(t,e,n){var r=d("input","adminAccess");return r.setAttribute("type","button"),r.setAttribute("value","admin access"),r.addEventListener("click",(function(){document.body.style.backgroundImage="",t.innerHTML="",function(t,e,n){var r=d("div","loginDiv"),o=d("input","loginForm"),u=d("input","passwordForm"),i=d("input","loginButton");i.addEventListener("click",(function(t){var r=document.getElementById("loginForm").value,o=document.getElementById("passwordForm").value;13===t.keyCode?r?o?c(r,o,n,e):alert("Please enter password"):alert("Please enter login"):c(r,o,n,e)})),u.setAttribute("type","password"),i.setAttribute("type","submit"),r.append(o,u,i),t.append(r)}(t,e,n)})),r};function h(t,e){return s(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return[4,a(e)];case 1:return t=r.sent(),n=i(t),document.body.style.backgroundImage="url(http://127.0.0.1:3000"+n+")",document.body.style.backgroundSize="110%",document.body.style.backgroundRepeat="no-repeat",[2]}}))}))}function b(t,e,n){return s(this,void 0,void 0,(function(){var r,o,u,c,l=this;return f(this,(function(p){switch(p.label){case 0:return[4,a(e)];case 1:return r=p.sent(),o=i(r),u=d("div","fullDiv"),(c=d("img","fullImg")).addEventListener("click",(function(){return s(l,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,y(t,n)];case 1:return e.sent(),[2]}}))}))})),c.src=o,u.append(c),t.append(u),[2]}}))}))}function y(t,e){return s(this,void 0,void 0,(function(){var n,r,o,u;return f(this,(function(c){switch(c.label){case 0:return[4,a(e)];case 1:return n=c.sent(),r=i(n),(o=d("img","partOfImg")).src=r,document.getElementById("partsDiv")?((u=document.getElementById("partsDiv")).append(o),t.append(u)):((u=d("div","partsDiv")).append(o),t.append(u)),[2]}}))}))}class v extends class{constructor(){this._handlers=[]}addChangeEventListener(t){this._handlers.push(t)}executeHandlers(){this._handlers.forEach(t=>{t()})}}{constructor(){super(),this._userIsLoggedIn=!1}setLoginStatus(t){this._userIsLoggedIn=t,this.executeHandlers()}getLoginStatus(){return this._userIsLoggedIn}}var g=function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},w=function(t,e){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};var m=function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},k="http://127.0.0.1:3000/login";window.addEventListener("load",(function(){return m(void 0,void 0,void 0,(function(){var t,e,n;return x(this,(function(r){return t=document.getElementById("root"),e=new v,n=p(t,e,k),t.append(n),function(t,e){g(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return[4,h(0,e)];case 1:return n.sent(),[4,b(t,"http://127.0.0.1:3000/getfull","http://127.0.0.1:3000/getpart")];case 2:return n.sent(),[2]}}))}))}(t,"http://127.0.0.1:3000/getbackground"),[2]}))}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9hZG1pblBhZ2VWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9odG1sVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xvZ2luUGFnZU1vZGVsLmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW5QYWdlVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidGhpcyIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsImxlbmd0aCIsInB1c2giLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0UmFuZG9tTGluayIsImFycmF5IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZ2V0SW1hZ2VzVXJscyIsImJhY2tncm91bmRVcmwiLCJfYSIsImZldGNoIiwianNvbiIsImxvZ2luIiwicGFzc3dvcmQiLCJsb2dpbkhhbmRsZXIiLCJsb2dpblBhZ2VNb2RlbEluc3RhbmNlIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsInJlc3BvbnNlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsInNldExvZ2luU3RhdHVzIiwicmVuZGVyQWRtaW5QYWdlIiwicm9vdEVsZW1lbnQiLCJpbm5lckhUTUwiLCJleGl0QnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiaWQiLCJlbGVtZW50IiwiY3JlYXRlQWRtaW5BY2Nlc3NCdXR0b24iLCJhZG1pbkFjY2Vzc0J1dHRvbiIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwibG9naW5EaXYiLCJsb2dpbkZvcm0iLCJwYXNzd29yZEZvcm0iLCJsb2dpbkJ1dHRvbiIsImxvZ2luVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwia2V5Q29kZSIsImFsZXJ0IiwiYXBwZW5kIiwicmVuZGVyQWRtaW5Mb2dpblBhZ2UiLCJjcmVhdGVCYWNrZ3JvdW5kIiwiYXJyYXlPZkJhY2tncm91bmRVcmxzIiwic2luZ2xlQmFja2dyb3VuZFVybCIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZFJlcGVhdCIsImNyZWF0ZUltYWdlRnVsbCIsImZ1bGxVcmwiLCJwYXJ0c1VybCIsImFycmF5T2ZJbWFnZXNVcmxzIiwic2luZ2xlSW1hZ2VVcmwiLCJmdWxsRGl2IiwiZnVsbEltZyIsIl90aGlzIiwiY3JlYXRlSW1hZ2VQYXJ0Iiwic3JjIiwiYXJyYXlPZlBhcnRzVXJscyIsInNpbmdsZVBhcnRVcmwiLCJwYXJ0T2ZJbWciLCJwYXJ0c0RpdiIsIl9oYW5kbGVycyIsImhhbmRsZXIiLCJmb3JFYWNoIiwic3VwZXIiLCJfdXNlcklzTG9nZ2VkSW4iLCJ1c2VySXNMb2dnZWRJbiIsImV4ZWN1dGVIYW5kbGVycyIsIndpbmRvdyIsInJlbmRlck1haW5QYWdlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFB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cUIsR0FDMUIsTUFBT1gsR0FBS29CLEVBQUssQ0FBQyxFQUFHcEIsR0FBSVMsRUFBSSxFQUFLLFFBQVVELEVBQUlqQyxFQUFJLEVBQ3RELEdBQVksRUFBUjZDLEVBQUcsR0FBUSxNQUFNQSxFQUFHLEdBQUksTUFBTyxDQUFFOUMsTUFBTzhDLEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVFqQixNQUFNLEdBckI5QkwsQ0FBSyxDQUFDaEIsRUFBR3FDLE9BNEJsRCxFQUFlLDhCQUMxQm9GLE9BQU81QyxpQkFBaUIsUUFBUSxXQUFjLE9BQU8sT0FBVSxPQUFRLE9BQVEsR0FBUSxXQUNuRixJQUFJTixFQUFhYixFQUF3QndCLEVBQ3pDLE9BQU8sRUFBWTlDLE1BQU0sU0FBVWdCLEdBTS9CLE9BTEFtQixFQUFjNUIsU0FBU0MsZUFBZSxRQUN0Q2MsRUFBeUIsSUFBSSxFQUM3QndCLEVBQW9CRCxFQUF3QlYsRUFBYWIsRUFBd0IsR0FDakZhLEVBQVlzQixPQUFPWCxHRFRwQixTQUF3QlgsRUFBYXBCLEdBQ2pDLEVBQVVmLFVBQU0sT0FBUSxHQUFRLFdBQ25DLE9BQU8sRUFBWUEsTUFBTSxTQUFVZ0IsR0FDL0IsT0FBUUEsRUFBR3RCLE9BQ1AsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhaUUsRUFBaUJ4QixFQUFhcEIsSUFDM0QsS0FBSyxFQUVELE9BREFDLEVBQUdyQixPQUNJLENBQUMsRUFBYXFFLEVBQWdCN0IsRUxOcEMsZ0NBREMsa0NLUU4sS0FBSyxFQUVELE9BREFuQixFQUFHckIsT0FDSSxDQUFDLFVDQXBCMkYsQ0FBZW5ELEVOWEksdUNNWVosQ0FBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgcmVuZGVyQWRtaW5QYWdlIH0gZnJvbSBcIi4vYWRtaW5QYWdlVmlld1wiO1xuZXhwb3J0IHZhciBiYWNrZ3JvdW5kVXJsID0gXCJodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2V0YmFja2dyb3VuZFwiO1xuZXhwb3J0IHZhciBwYXJ0c1VybCA9IFwiaHR0cDovLzEyNy4wLjAuMTozMDAwL2dldHBhcnRcIjtcbmV4cG9ydCB2YXIgZnVsbFVybCA9IFwiaHR0cDovLzEyNy4wLjAuMTozMDAwL2dldGZ1bGxcIjtcbmV4cG9ydCB2YXIgbG9naW5IYW5kbGVyID0gXCJodHRwOi8vMTI3LjAuMC4xOjMwMDAvbG9naW5cIjtcbnZhciByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKTtcbmV4cG9ydCB2YXIgZ2V0UmFuZG9tTGluayA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIHZhciByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpO1xuICAgIHZhciByYW5kb21MaW5rID0gYXJyYXlbcmFuZG9tTnVtYmVyXTtcbiAgICByZXR1cm4gcmFuZG9tTGluaztcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VzVXJscyhiYWNrZ3JvdW5kVXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzcG9uc2UsIHVybHM7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKGJhY2tncm91bmRVcmwpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdXJscyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHVybHNdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZldGNoUmVxdWVzdChtZXRob2QsIHVybCwgYm9keSkge1xuICAgIGlmIChib2R5ID09PSB2b2lkIDApIHsgYm9keSA9IHt9OyB9XG4gICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfTtcbiAgICB2YXIgcmVzcG9uc2VQcm9taXNlID0gZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIlxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVyciwgXCJkYXRhIHdhc24ndCB3cm90ZVwiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2VQcm9taXNlO1xufVxuZXhwb3J0IHZhciBsb2dpbiA9IGZ1bmN0aW9uIChsb2dpbiwgcGFzc3dvcmQsIGxvZ2luSGFuZGxlciwgbG9naW5QYWdlTW9kZWxJbnN0YW5jZSkge1xuICAgIHZhciB1c2VyID0ge1xuICAgICAgICBsb2dpbjogbG9naW4sXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgIH07XG4gICAgdmFyIGxvZ2luUHJvbWlzZSA9IGZldGNoUmVxdWVzdChcIlBPU1RcIiwgbG9naW5IYW5kbGVyLCB1c2VyKTtcbiAgICBsb2dpblByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBsb2dpblBhZ2VNb2RlbEluc3RhbmNlLnNldExvZ2luU3RhdHVzKHRydWUpO1xuICAgICAgICAgICAgcmVuZGVyQWRtaW5QYWdlKHJvb3RFbGVtZW50LCBsb2dpblBhZ2VNb2RlbEluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIH0gZnJvbSBcIi4vaHRtbFV0aWxzXCI7XG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgdmFyIHJlbmRlckFkbWluTG9naW5QYWdlID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50LCBsb2dpblBhZ2VNb2RlbEluc3RhbmNlLCBsb2dpbkhhbmRsZXIpIHtcbiAgICB2YXIgbG9naW5EaXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwibG9naW5EaXZcIik7XG4gICAgdmFyIGxvZ2luRm9ybSA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBcImxvZ2luRm9ybVwiKTtcbiAgICB2YXIgcGFzc3dvcmRGb3JtID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFwicGFzc3dvcmRGb3JtXCIpO1xuICAgIHZhciBsb2dpbkJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBcImxvZ2luQnV0dG9uXCIpO1xuICAgIGxvZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbG9naW5WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5Gb3JtXCIpLnZhbHVlO1xuICAgICAgICB2YXIgcGFzc3dvcmRWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc3dvcmRGb3JtXCIpLnZhbHVlO1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgaWYgKCFsb2dpblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgbG9naW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhc3N3b3JkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgcGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dpbihsb2dpblZhbHVlLCBwYXNzd29yZFZhbHVlLCBsb2dpbkhhbmRsZXIsIGxvZ2luUGFnZU1vZGVsSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2luKGxvZ2luVmFsdWUsIHBhc3N3b3JkVmFsdWUsIGxvZ2luSGFuZGxlciwgbG9naW5QYWdlTW9kZWxJbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwYXNzd29yZEZvcm0uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpO1xuICAgIGxvZ2luQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgbG9naW5EaXYuYXBwZW5kKGxvZ2luRm9ybSwgcGFzc3dvcmRGb3JtLCBsb2dpbkJ1dHRvbik7XG4gICAgcm9vdEVsZW1lbnQuYXBwZW5kKGxvZ2luRGl2KTtcbn07XG5leHBvcnQgdmFyIHJlbmRlckFkbWluUGFnZSA9IGZ1bmN0aW9uIChyb290RWxlbWVudCwgbG9naW5QYWdlTW9kZWxJbnN0YW5jZSkge1xuICAgIHJvb3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgdmFyIGV4aXRCdXR0b24gPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgXCJleGl0QnV0dG9uXCIpO1xuICAgIGV4aXRCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBleGl0QnV0dG9uLmlubmVyVGV4dCA9IFwiZXhpdFwiO1xuICAgIGV4aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9naW5QYWdlTW9kZWxJbnN0YW5jZS5zZXRMb2dpblN0YXR1cyhmYWxzZSk7XG4gICAgfSk7XG59O1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IHJlbmRlckFkbWluTG9naW5QYWdlIH0gZnJvbSBcIi4vYWRtaW5QYWdlVmlld1wiO1xuaW1wb3J0IHsgZ2V0SW1hZ2VzVXJscywgZ2V0UmFuZG9tTGluayB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgaWQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuZXhwb3J0IHZhciBjcmVhdGVBZG1pbkFjY2Vzc0J1dHRvbiA9IGZ1bmN0aW9uIChyb290RWxlbWVudCwgbG9naW5QYWdlTW9kZWxJbnN0YW5jZSwgbG9naW5IYW5kbGVyKSB7XG4gICAgdmFyIGFkbWluQWNjZXNzQnV0dG9uID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFwiYWRtaW5BY2Nlc3NcIik7XG4gICAgYWRtaW5BY2Nlc3NCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBhZG1pbkFjY2Vzc0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImFkbWluIGFjY2Vzc1wiKTtcbiAgICBhZG1pbkFjY2Vzc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwiXCI7XG4gICAgICAgIHJvb3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHJlbmRlckFkbWluTG9naW5QYWdlKHJvb3RFbGVtZW50LCBsb2dpblBhZ2VNb2RlbEluc3RhbmNlLCBsb2dpbkhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBhZG1pbkFjY2Vzc0J1dHRvbjtcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFja2dyb3VuZChyb290RWxlbWVudCwgYmFja2dyb3VuZFVybCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFycmF5T2ZCYWNrZ3JvdW5kVXJscywgc2luZ2xlQmFja2dyb3VuZFVybDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SW1hZ2VzVXJscyhiYWNrZ3JvdW5kVXJsKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBhcnJheU9mQmFja2dyb3VuZFVybHMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZUJhY2tncm91bmRVcmwgPSBnZXRSYW5kb21MaW5rKGFycmF5T2ZCYWNrZ3JvdW5kVXJscyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGJhY2tncm91bmRJbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFwiYmFja2dyb3VuZEltZ1wiKVxuICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBgJHtzaW5nbGVCYWNrZ3JvdW5kVXJsfWApXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoaHR0cDovLzEyNy4wLjAuMTozMDAwXCIgKyBzaW5nbGVCYWNrZ3JvdW5kVXJsICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcIjExMCVcIjtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gXCJuby1yZXBlYXRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbWFnZUZ1bGwocm9vdEVsZW1lbnQsIGZ1bGxVcmwsIHBhcnRzVXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJyYXlPZkltYWdlc1VybHMsIHNpbmdsZUltYWdlVXJsLCBmdWxsRGl2LCBmdWxsSW1nO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRJbWFnZXNVcmxzKGZ1bGxVcmwpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGFycmF5T2ZJbWFnZXNVcmxzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBzaW5nbGVJbWFnZVVybCA9IGdldFJhbmRvbUxpbmsoYXJyYXlPZkltYWdlc1VybHMpO1xuICAgICAgICAgICAgICAgICAgICBmdWxsRGl2ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZ1bGxEaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFwiZnVsbEltZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZnVsbEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBjcmVhdGVJbWFnZVBhcnQocm9vdEVsZW1lbnQsIHBhcnRzVXJsKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICBmdWxsSW1nLnNyYyA9IHNpbmdsZUltYWdlVXJsO1xuICAgICAgICAgICAgICAgICAgICBmdWxsRGl2LmFwcGVuZChmdWxsSW1nKTtcbiAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kKGZ1bGxEaXYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlUGFydChyb290RWxlbWVudCwgcGFydHNVcmwpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcnJheU9mUGFydHNVcmxzLCBzaW5nbGVQYXJ0VXJsLCBwYXJ0T2ZJbWcsIHBhcnRzRGl2LCBwYXJ0c0RpdjtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SW1hZ2VzVXJscyhwYXJ0c1VybCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlPZlBhcnRzVXJscyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlUGFydFVybCA9IGdldFJhbmRvbUxpbmsoYXJyYXlPZlBhcnRzVXJscyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRPZkltZyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgXCJwYXJ0T2ZJbWdcIik7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRPZkltZy5zcmMgPSBzaW5nbGVQYXJ0VXJsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJ0c0RpdlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRzRGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNEaXYuYXBwZW5kKHBhcnRPZkltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290RWxlbWVudC5hcHBlbmQocGFydHNEaXYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNEaXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwicGFydHNEaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0Rpdi5hcHBlbmQocGFydE9mSW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50LmFwcGVuZChwYXJ0c0Rpdik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi9FdmVudEVtaXR0ZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luUGFnZU1vZGVsIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLl91c2VySXNMb2dnZWRJbiA9IGZhbHNlXG4gICAgfVxuXG4gICAgc2V0TG9naW5TdGF0dXModXNlcklzTG9nZ2VkSW4pIHtcbiAgICAgICAgdGhpcy5fdXNlcklzTG9nZ2VkSW4gPSB1c2VySXNMb2dnZWRJblxuICAgICAgICB0aGlzLmV4ZWN1dGVIYW5kbGVycygpXG4gICAgfVxuXG4gICAgZ2V0TG9naW5TdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VySXNMb2dnZWRJblxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IFtdO1xuICAgIH1cblxuICAgIGFkZENoYW5nZUV2ZW50TGlzdGVuZXIoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9oYW5kbGVycy5wdXNoKGhhbmRsZXIpXG4gICAgfVxuXG4gICAgZXhlY3V0ZUhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyKClcbiAgICAgICAgfSlcbiAgICB9XG59IiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IGNyZWF0ZUJhY2tncm91bmQsIGNyZWF0ZUltYWdlRnVsbCB9IGZyb20gXCIuL2h0bWxVdGlsc1wiO1xuaW1wb3J0IHsgZnVsbFVybCwgcGFydHNVcmwgfSBmcm9tIFwiLi91dGlsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlck1haW5QYWdlKHJvb3RFbGVtZW50LCBiYWNrZ3JvdW5kVXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBjcmVhdGVCYWNrZ3JvdW5kKHJvb3RFbGVtZW50LCBiYWNrZ3JvdW5kVXJsKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNyZWF0ZUltYWdlRnVsbChyb290RWxlbWVudCwgZnVsbFVybCwgcGFydHNVcmwpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyBjcmVhdGVBZG1pbkFjY2Vzc0J1dHRvbiB9IGZyb20gXCIuL2h0bWxVdGlsc1wiO1xuaW1wb3J0IExvZ2luUGFnZU1vZGVsIGZyb20gXCIuL0xvZ2luUGFnZU1vZGVsXCI7XG5pbXBvcnQgeyByZW5kZXJNYWluUGFnZSB9IGZyb20gXCIuL21haW5QYWdlVmlld1wiO1xuaW1wb3J0IHsgYmFja2dyb3VuZFVybCB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgdmFyIGxvZ2luSGFuZGxlciA9IFwiaHR0cDovLzEyNy4wLjAuMTozMDAwL2xvZ2luXCI7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcm9vdEVsZW1lbnQsIGxvZ2luUGFnZU1vZGVsSW5zdGFuY2UsIGFkbWluQWNjZXNzQnV0dG9uO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG4gICAgICAgIGxvZ2luUGFnZU1vZGVsSW5zdGFuY2UgPSBuZXcgTG9naW5QYWdlTW9kZWwoKTtcbiAgICAgICAgYWRtaW5BY2Nlc3NCdXR0b24gPSBjcmVhdGVBZG1pbkFjY2Vzc0J1dHRvbihyb290RWxlbWVudCwgbG9naW5QYWdlTW9kZWxJbnN0YW5jZSwgbG9naW5IYW5kbGVyKTtcbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kKGFkbWluQWNjZXNzQnV0dG9uKTtcbiAgICAgICAgcmVuZGVyTWFpblBhZ2Uocm9vdEVsZW1lbnQsIGJhY2tncm91bmRVcmwpO1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgfSk7XG59KTsgfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9